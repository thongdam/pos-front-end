<template>
  <div>
    <AppHeader title="‡∫ï‡∫±‡ªâ‡∫á‡∫Ñ‡ªà‡∫≤" subtitle="‡∫ï‡∫±‡ªâ‡∫á‡∫Ñ‡ªà‡∫≤‡∫•‡∫∞‡∫ö‡∫ª‡∫ö‡ªÅ‡∫•‡∫∞‡∫Æ‡ªâ‡∫≤‡∫ô‡∫Ñ‡ªâ‡∫≤" />

    <main class="p-12 text-gray-900">
      <!-- grid 2 -->
      <div class="max-w-12xl mx-auto grid grid-cols-1 md:grid-cols-2 gap-6">
        <!-- card 1 -->
        <div class="card">
          <h3 class="text-lg font-semibold text-gray-900 mb-6">‡∫Ç‡ªç‡ªâ‡∫°‡∫π‡∫ô‡∫Æ‡ªâ‡∫≤‡∫ô‡∫Ñ‡ªâ‡∫≤</h3>
          <form @submit.prevent="saveStoreSettings" class="space-y-4">
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
              <div class="form-group">
                <label class="form-label">‡∫ä‡∫∑‡ªà‡∫Æ‡ªâ‡∫≤‡∫ô</label>
                <input v-model="storeSettings.name" type="text" class="form-input" placeholder="‡ªÉ‡∫™‡ªà‡∫ä‡∫∑‡ªà‡∫Æ‡ªâ‡∫≤‡∫ô" />
              </div>
              <div class="form-group">
                <label class="form-label">‡ªÄ‡∫ö‡∫µ‡ªÇ‡∫ó</label>
                <input v-model="storeSettings.phone" type="tel" class="form-input" placeholder="020-xxx-xxxx" />
              </div>
            </div>
            <div class="form-group">
              <label class="form-label">‡∫ó‡∫µ‡ªà‡∫¢‡∫π‡ªà</label>
              <textarea v-model="storeSettings.address" class="form-input" rows="3" placeholder="‡∫ó‡∫µ‡ªà‡∫¢‡∫π‡ªà‡∫Æ‡ªâ‡∫≤‡∫ô‡∫Ñ‡ªâ‡∫≤"></textarea>
            </div>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
              <div class="form-group">
                <label class="form-label">‡∫≠‡∫µ‡ªÄ‡∫°‡∫•</label>
                <input v-model="storeSettings.email" type="email" class="form-input" placeholder="email@example.com" />
              </div>
              <div class="form-group">
                <label class="form-label">‡ªÄ‡∫•‡∫Å‡∫õ‡∫∞‡∫à‡∫≥‡∫ï‡∫ª‡∫ß‡∫ú‡∫π‡ªâ‡ªÄ‡∫™‡∫ç‡∫≠‡∫≤‡∫Å‡∫≠‡∫ô</label>
                <input v-model="storeSettings.taxId" type="text" class="form-input" placeholder="xxx-xxx-xxx" />
              </div>
            </div>
            <div class="flex justify-end">
              <button type="submit" class="btn-lao">
                <CheckIcon class="w-4 h-4 mr-2" />
                ‡∫ö‡∫±‡∫ô‡∫ó‡∫∂‡∫Å‡∫Ç‡ªç‡ªâ‡∫°‡∫π‡∫ô‡∫Æ‡ªâ‡∫≤‡∫ô
              </button>
            </div>
          </form>
        </div>

        <!-- card 2 -->
        <div class="card">
          <h3 class="text-lg font-semibold text-gray-900 mb-6">‡∫Å‡∫≤‡∫ô‡∫ï‡∫±‡ªâ‡∫á‡∫Ñ‡ªà‡∫≤‡∫•‡∫∞‡∫ö‡∫ª‡∫ö</h3>
          <div class="space-y-6">
            <div class="flex items-center justify-between p-4 border border-gray-200 rounded-lg">
              <div>
                <h4 class="font-medium text-gray-900">‡∫≠‡∫≤‡∫Å‡∫≠‡∫ô VAT</h4>
                <p class="text-sm text-gray-500">‡∫ï‡∫±‡ªâ‡∫á‡∫Ñ‡ªà‡∫≤‡∫≠‡∫±‡∫î‡∫ï‡∫≤‡∫≠‡∫≤‡∫Å‡∫≠‡∫ô‡∫°‡∫π‡∫ô‡∫Ñ‡ªà‡∫≤‡ªÄ‡∫û‡∫µ‡ªà‡∫°</p>
              </div>
              <div class="flex items-center space-x-2">
                <input v-model.number="systemSettings.vatRate" type="number" min="0" max="100" step="0.1"
                  class="w-20 px-2 py-1 border border-gray-300 rounded text-center" />
                <span class="text-gray-600">%</span>
              </div>
            </div>
            <div class="flex items-center justify-between p-4 border border-gray-200 rounded-lg">
              <div>
                <h4 class="font-medium text-gray-900">‡∫™‡∫∞‡∫Å‡∫∏‡∫ô‡ªÄ‡∫á‡∫¥‡∫ô</h4>
                <p class="text-sm text-gray-500">‡ªÄ‡∫•‡∫∑‡∫≠‡∫Å‡∫™‡∫∞‡∫Å‡∫∏‡∫ô‡ªÄ‡∫á‡∫¥‡∫ô‡∫´‡∫º‡∫±‡∫Å</p>
              </div>
              <select v-model="systemSettings.currency" class="border border-gray-300 text-gray-900 rounded px-3 py-1">
                <option value="LAK">‡∫•‡∫≤‡∫ß ‡∫Å‡∫µ‡∫ö (LAK)</option>
                <option value="THB">‡ªÑ‡∫ó ‡∫ö‡∫≤‡∫î (THB)</option>
                <option value="USD">‡ªÇ‡∫î‡∫•‡∫≤ ‡∫™‡∫´‡∫• (USD)</option>
              </select>
            </div>
            <div class="flex items-center justify-between p-4 border border-gray-200 rounded-lg">
              <div>
                <h4 class="font-medium text-gray-900">‡ªÅ‡∫à‡ªâ‡∫á‡ªÄ‡∫ï‡∫∑‡∫≠‡∫ô‡∫™‡∫∞‡∫ï‡ªã‡∫≠‡∫Å‡∫ï‡ªç‡ªà‡∫≤</h4>
                <p class="text-sm text-gray-500">‡ªÅ‡∫à‡ªâ‡∫á‡ªÄ‡∫ï‡∫∑‡∫≠‡∫ô‡ªÄ‡∫°‡∫∑‡ªà‡∫≠‡∫™‡∫¥‡∫ô‡∫Ñ‡ªâ‡∫≤‡ªÉ‡∫Å‡ªâ‡ªù‡∫ª‡∫î</p>
              </div>
              <label class="relative inline-flex items-center cursor-pointer">
                <input v-model="systemSettings.lowStockAlert" type="checkbox" class="sr-only peer" />
                <div
                  class="w-11 h-6 bg-gray-200 rounded-full peer peer-checked:bg-blue-600 after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:h-5 after:w-5 after:bg-white after:border after:rounded-full after:transition-all peer-checked:after:translate-x-full">
                </div>
              </label>
            </div>
            <div class="flex items-center justify-between p-4 border border-gray-200 rounded-lg">
              <div>
                <h4 class="font-medium text-gray-900">‡∫û‡∫¥‡∫°‡ªÉ‡∫ö‡∫Æ‡∫±‡∫ö‡∫≠‡∫±‡∫î‡∫ï‡∫∞‡ªÇ‡∫ô‡∫°‡∫±‡∫î</h4>
                <p class="text-sm text-gray-500">‡∫û‡∫¥‡∫°‡ªÉ‡∫ö‡∫Æ‡∫±‡∫ö‡ªÄ‡∫á‡∫¥‡∫ô‡∫´‡∫º‡∫±‡∫á‡∫ä‡∫≥‡∫•‡∫∞‡ªÄ‡∫á‡∫¥‡∫ô</p>
              </div>
              <label class="relative inline-flex items-center cursor-pointer">
                <input v-model="systemSettings.autoPrint" type="checkbox" class="sr-only peer" />
                <div
                  class="w-11 h-6 bg-gray-200 rounded-full peer peer-checked:bg-blue-600 after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:h-5 after:w-5 after:bg-white after:border after:rounded-full after:transition-all peer-checked:after:translate-x-full">
                </div>
              </label>
            </div>
            <div class="flex justify-end">
              <button @click="saveSystemSettings" class="btn-lao">
                <CheckIcon class="w-4 h-4 mr-2" />
                ‡∫ö‡∫±‡∫ô‡∫ó‡∫∂‡∫Å‡∫Å‡∫≤‡∫ô‡∫ï‡∫±‡ªâ‡∫á‡∫Ñ‡ªà‡∫≤
              </button>
            </div>
          </div>
        </div>

        <!-- card 3 -->
        <div class="card">
          <h3 class="text-lg font-semibold text-gray-900 mb-6">‡∫Å‡∫≤‡∫ô‡∫™‡∫≥‡∫£‡∫≠‡∫á‡∫Ç‡ªç‡ªâ‡∫°‡∫π‡∫ô</h3>
          <div class="space-y-4">
            <div class="flex items-center justify-between p-4 border border-gray-200 rounded-lg">
              <div>
                <h4 class="font-medium text-gray-900">‡∫™‡∫≥‡∫£‡∫≠‡∫á‡∫Ç‡ªç‡ªâ‡∫°‡∫π‡∫ô‡∫≠‡∫±‡∫î‡∫ï‡∫∞‡ªÇ‡∫ô‡∫°‡∫±‡∫î</h4>
                <p class="text-sm text-gray-500">‡∫™‡∫≥‡∫£‡∫≠‡∫á‡∫Ç‡ªç‡ªâ‡∫°‡∫π‡∫ô‡∫ó‡∫∏‡∫Å‡∫°‡∫∑‡ªâ ‡ªÄ‡∫ß‡∫•‡∫≤ 02:00</p>
              </div>
              <label class="relative inline-flex items-center cursor-pointer">
                <input v-model="backupSettings.autoBackup" type="checkbox" class="sr-only peer" />
                <div
                  class="w-11 h-6 bg-gray-200 rounded-full peer peer-checked:bg-blue-600 after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:h-5 after:w-5 after:bg-white after:border after:rounded-full after:transition-all peer-checked:after:translate-x-full">
                </div>
              </label>
            </div>
            <div class="flex items-center justify-between p-4 border border-gray-200 rounded-lg">
              <div>
                <h4 class="font-medium text-gray-900">‡∫Å‡∫≤‡∫ô‡∫™‡∫≥‡∫£‡∫≠‡∫á‡∫Ñ‡∫±‡ªâ‡∫á‡∫™‡∫∏‡∫î‡∫ó‡ªâ‡∫≤‡∫ç</h4>
                <p class="text-sm text-gray-500">{{ lastBackup }}</p>
              </div>
              <button @click="createBackup" class="btn-secondary">
                <CloudArrowUpIcon class="w-4 h-4 mr-2" />
                ‡∫™‡∫≥‡∫£‡∫≠‡∫á‡∫î‡∫Ω‡∫ß‡∫ô‡∫µ‡ªâ
              </button>
            </div>
            <div class="flex items-center justify-between p-4 border border-gray-200 rounded-lg">
              <div>
                <h4 class="font-medium text-gray-900">‡∫ô‡∫≥‡ªÄ‡∫Ç‡∫ª‡ªâ‡∫≤‡∫Ç‡ªç‡ªâ‡∫°‡∫π‡∫ô</h4>
                <p class="text-sm text-gray-500">‡∫Å‡∫π‡ªâ‡∫Ñ‡∫∑‡∫ô‡∫Ç‡ªç‡ªâ‡∫°‡∫π‡∫ô‡∫à‡∫≤‡∫Å‡ªÑ‡∫ü‡∫•‡ªå‡∫™‡∫≥‡∫£‡∫≠‡∫á</p>
              </div>
              <button @click="restoreBackup" class="btn-secondary">
                <CloudArrowDownIcon class="w-4 h-4 mr-2" />
                ‡∫Å‡∫π‡ªâ‡∫Ñ‡∫∑‡∫ô‡∫Ç‡ªç‡ªâ‡∫°‡∫π‡∫ô
              </button>
            </div>
          </div>
        </div>

        <!-- card 4 -->
        <div class="card">
          <h3 class="text-lg font-semibold text-gray-900 mb-6">‡∫Å‡ªà‡∫Ω‡∫ß‡∫Å‡∫±‡∫ö‡∫•‡∫∞‡∫ö‡∫ª‡∫ö</h3>
          <div class="space-y-4">
            <div class="flex justify-between items-center">
              <span class="text-gray-600">‡ªÄ‡∫ß‡∫µ‡∫ä‡∫±‡∫ô‡∫•‡∫∞‡∫ö‡∫ª‡∫ö</span>
              <span class="font-medium">v1.0.0</span>
            </div>
            <div class="flex justify-between items-center">
              <span class="text-gray-600">‡ªÄ‡∫Ñ‡∫∑‡ªà‡∫≠‡∫á‡∫°‡∫∑‡∫û‡∫±‡∫î‡∫ó‡∫∞‡∫ô‡∫≤</span>
              <span class="font-medium">Nuxt.js 4.0.1</span>
            </div>
            <div class="flex justify-between items-center">
              <span class="text-gray-600">‡∫≠‡∫±‡∫ö‡ªÄ‡∫î‡∫î‡∫Ñ‡∫±‡ªâ‡∫á‡∫™‡∫∏‡∫î‡∫ó‡ªâ‡∫≤‡∫ç</span>
              <span class="font-medium">{{ formatDate(new Date()) }}</span>
            </div>
            <div class="pt-4 border-t">
              <p class="text-sm text-gray-500 text-center">
                üá±üá¶ ‡∫™‡ªâ‡∫≤‡∫á‡∫î‡ªâ‡∫ß‡∫ç ‚ù§Ô∏è ‡∫™‡∫≥‡∫•‡∫±‡∫ö‡∫õ‡∫∞‡ªÄ‡∫ó‡∫î‡∫•‡∫≤‡∫ß
              </p>
            </div>
          </div>
        </div>
      </div>
    </main>
  </div>
</template>

<script setup lang="ts">
import { CheckIcon, CloudArrowUpIcon, CloudArrowDownIcon } from '@heroicons/vue/24/outline'
import { useToast } from '~/composables/useToast'
import AppHeader from '~/components/common/AppHeader.vue'

const { success } = useToast()

const storeSettings = reactive({
  name: '‡∫Æ‡ªâ‡∫≤‡∫ô‡∫Ñ‡ªâ‡∫≤‡∫•‡∫≤‡∫ß',
  phone: '020-234-5678',
  address: '123 ‡∫ñ‡∫∞‡ªú‡∫ª‡∫ô ‡∫™‡∫∏‡∫Å‡∫´‡ªâ‡∫≤, ‡∫ô‡∫∞‡∫Ñ‡∫≠‡∫ô‡∫´‡∫º‡∫ß‡∫á‡∫ß‡∫Ω‡∫á‡∫à‡∫±‡∫ô',
  email: 'info@laoshop.com',
  taxId: '123-456-789'
})

const systemSettings = reactive({
  vatRate: 10,
  currency: 'LAK',
  lowStockAlert: true,
  autoPrint: false
})

const backupSettings = reactive({
  autoBackup: true
})

const lastBackup = ref('21 ‡∫°‡∫±‡∫á‡∫Å‡∫≠‡∫ô 2024, 02:00')

const formatDate = (date: Date) => {
  return date.toLocaleDateString('lo-LA', {
    year: 'numeric',
    month: 'long',
    day: 'numeric'
  })
}

const saveStoreSettings = () => {
  success('‡∫ö‡∫±‡∫ô‡∫ó‡∫∂‡∫Å‡ªÅ‡∫•‡ªâ‡∫ß', '‡∫ö‡∫±‡∫ô‡∫ó‡∫∂‡∫Å‡∫Ç‡ªç‡ªâ‡∫°‡∫π‡∫ô‡∫Æ‡ªâ‡∫≤‡∫ô‡∫Ñ‡ªâ‡∫≤‡∫™‡∫≥‡ªÄ‡∫•‡∫±‡∫î')
}

const saveSystemSettings = () => {
  success('‡∫ö‡∫±‡∫ô‡∫ó‡∫∂‡∫Å‡ªÅ‡∫•‡ªâ‡∫ß', '‡∫ö‡∫±‡∫ô‡∫ó‡∫∂‡∫Å‡∫Å‡∫≤‡∫ô‡∫ï‡∫±‡ªâ‡∫á‡∫Ñ‡ªà‡∫≤‡∫•‡∫∞‡∫ö‡∫ª‡∫ö‡∫™‡∫≥‡ªÄ‡∫•‡∫±‡∫î')
}

const createBackup = () => {
  success('‡∫™‡∫≥‡∫£‡∫≠‡∫á‡∫Ç‡ªç‡ªâ‡∫°‡∫π‡∫ô', '‡∫Å‡∫≥‡∫•‡∫±‡∫á‡∫™‡∫≥‡∫£‡∫≠‡∫á‡∫Ç‡ªç‡ªâ‡∫°‡∫π‡∫ô...')
  lastBackup.value = formatDate(new Date()) + ', ' + new Date().toLocaleTimeString('lo-LA', {
    hour: '2-digit',
    minute: '2-digit'
  })
}

const restoreBackup = () => {
  if (confirm('‡∫ó‡ªà‡∫≤‡∫ô‡ªÅ‡∫ô‡ªà‡ªÉ‡∫à‡∫ö‡ªç‡ªà‡∫ß‡ªà‡∫≤‡∫ï‡ªâ‡∫≠‡∫á‡∫Å‡∫≤‡∫ô‡∫Å‡∫π‡ªâ‡∫Ñ‡∫∑‡∫ô‡∫Ç‡ªç‡ªâ‡∫°‡∫π‡∫ô? ‡∫Ç‡ªç‡ªâ‡∫°‡∫π‡∫ô‡∫õ‡∫±‡∫î‡∫à‡∫∏‡∫ö‡∫±‡∫ô‡∫à‡∫∞‡∫ñ‡∫∑‡∫Å‡ªÅ‡∫ó‡∫ô‡∫ó‡∫µ‡ªà')) {
    success('‡∫Å‡∫π‡ªâ‡∫Ñ‡∫∑‡∫ô‡∫Ç‡ªç‡ªâ‡∫°‡∫π‡∫ô', '‡∫Å‡∫≥‡∫•‡∫±‡∫á‡∫Å‡∫π‡ªâ‡∫Ñ‡∫∑‡∫ô‡∫Ç‡ªç‡ªâ‡∫°‡∫π‡∫ô‡∫à‡∫≤‡∫Å‡ªÑ‡∫ü‡∫•‡ªå‡∫™‡∫≥‡∫£‡∫≠‡∫á...')
  }
}
</script>
